!function(e){var t={};function l(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,l),c.l=!0,c.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)l.d(n,c,function(t){return e[t]}.bind(null,c));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=6)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.data},function(e,t,l){"use strict";l.r(t),l.d(t,"getBG",(function(){return s}));var n=l(4),c=l(0),a=l(2),r=l(1),o=l(3),i=l(5);const u=["image"];var m=({props:e})=>{const{attributes:t,setAttributes:l}=e,{image:n}=t,m=Object(i.useSelect)(e=>{const{getMedia:t}=e("core");return!!n.id&&t(n.id)},[n]);Object(c.useEffect)(()=>{m&&l({image:m})},[m]);const s=()=>{l({image:{}})};return console.log(n,m),console.log(!!n,!m),Object(c.createElement)("div",{className:"gm-block-edit-image-container"},Object(c.createElement)(r.MediaUploadCheck,null,Object(c.createElement)(r.MediaUpload,{title:Object(a.__)("Image","gm-block-img-txt"),onSelect:e=>{l({image:e})},allowedTypes:u,value:m,render:({open:e})=>n&&m?Object(c.createElement)(o.Button,{onClick:s,title:Object(a.__)("remove","gm-block-img-txt")},Object(c.createElement)(o.Dashicon,{icon:"dismiss"})):Object(c.createElement)(o.Button,{onClick:e,title:Object(a.__)("add image","gm-block-img-txt")},!n.id&&Object(c.createElement)(o.Dashicon,{icon:"plus-alt"}),!!n&&n.id&&!m&&Object(c.createElement)(o.Spinner,null))})))};const s=e=>{let t=null;if(e&&e.media_details){const{media_details:l}=e,{sizes:n}=l,{large:c,medium_large:a}=n;t=a||c}return t};Object(n.registerBlockType)("goodmotion/gm-block-full-img-txt",{edit:function(e){const{attributes:t,setAttributes:l}=e,{image:n,text:i,title:u,target:b,label:d,inverted:g}=t,f=s(n);return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(r.InspectorControls,null,Object(c.createElement)(o.PanelBody,{title:Object(a.__)("Settings","gm-block-full-img-txt")},Object(c.createElement)(o.ToggleControl,{label:Object(a.__)("Inverted","gm-block-full-img-txt"),checked:g,onChange:()=>l({inverted:!g})}))),Object(c.createElement)("div",Object(r.useBlockProps)({className:g?"gm-full-inverted":null}),Object(c.createElement)("div",{className:"gm-full-img",style:{backgroundImage:f?`url(${f.source_url})`:null}},Object(c.createElement)(m,{props:e})),Object(c.createElement)("div",{className:"gm-full-content"},Object(c.createElement)("div",{className:"gm-full-content-inner"},Object(c.createElement)(r.RichText,{allowedFormats:[],placeholder:Object(a.__)("The title","gm-block-full-img-txt"),value:u,onChange:e=>l({title:e})}),Object(c.createElement)(r.RichText,{allowedFormats:[],placeholder:Object(a.__)("The content","gm-block-full-img-txt"),value:i,onChange:e=>l({text:e})}),Object(c.createElement)("div",{className:"gm-full-content-action"},Object(c.createElement)("a",null,Object(c.createElement)(r.RichText,{allowedFormats:[],placeholder:Object(a.__)("Label","gm-block-full-img-txt"),value:d,onChange:e=>l({label:e})}),Object(c.createElement)(r.URLInputButton,{url:b,onChange:(e,t)=>l({target:e,label:t&&t.title||d})})))))))},save:function(e){const{attributes:t}=e,{image:l,text:n,title:a,target:o,label:i,inverted:u}=t,m=s(l);return Object(c.createElement)("div",r.useBlockProps.save({className:u?"gm-full-inverted":null}),Object(c.createElement)("div",{className:"gm-full-img",style:{backgroundImage:m?`url(${m.source_url})`:null}}),Object(c.createElement)("div",{className:"gm-full-content"},Object(c.createElement)("div",{className:"gm-full-content-inner"},Object(c.createElement)(r.RichText.Content,{tagName:"h2",value:a}),Object(c.createElement)(r.RichText.Content,{tagName:"p",value:n}),Object(c.createElement)("div",{className:"gm-full-content-action"},Object(c.createElement)("a",{href:o,title:i},Object(c.createElement)(r.RichText.Content,{tagName:"span",value:i}))))))},attributes:{image:{type:"object",default:{}},title:{type:"string",default:"The title"},text:{type:"string",default:"The content"},label:{type:"string",default:""},target:{type:"string"},inverted:{type:"boolean",default:!1}}})}]);